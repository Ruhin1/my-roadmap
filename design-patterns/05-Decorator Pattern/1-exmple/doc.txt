**ржбрзЗржХрзЛрж░рзЗржЯрж░ ржкрзНржпрж╛ржЯрж╛рж░рзНржи (Decorator Pattern)** ржПржХ ржзрж░ржирзЗрж░ **рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░рж╛рж▓ ржбрж┐ржЬрж╛ржЗржи ржкрзНржпрж╛ржЯрж╛рж░рзНржи**, ржпрж╛ ржХрзЛржирзЛ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржХрж╛рж░рзНржпржХрж╛рж░рж┐рждрж╛ (functionality) ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ ржкрзНрж░рж╕рж╛рж░рж┐ржд ржХрж░рждрзЗ ржмрж╛ ржирждрзБржи ржлрж┐ржЪрж╛рж░ ржпрзЛржЧ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝, ржЕржержЪ рж╕рзЗржЗ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ ржмрзЗрж╕рж┐ржХ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ рж╣ржпрж╝ ржирж╛ред  

ржПржЗ ржкрзНржпрж╛ржЯрж╛рж░рзНржиржЯрж┐ **ржУржкрзЗржи-ржХрзНрж▓рзЛржЬржб ржкрзНрж░рж┐ржирзНрж╕рж┐ржкрж╛рж▓** ржорзЗржирзЗ ржЪрж▓рзЗ, ржпрж╛рж░ ржЕрж░рзНрже рж╣рж▓рзЛ:  
1. ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ ржирждрзБржи ржлрж┐ржЪрж╛рж░рзЗрж░ ржЬржирзНржп **ржУржкрзЗржи**ред  
2. рждржмрзЗ рждрж╛рж░ ржоржбрж┐ржлрж┐ржХрзЗрж╢ржирзЗрж░ ржЬржирзНржп **ржХрзНрж▓рзЛржЬржб**ред  

### **ржХрзЛржерж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝?**  
- ржпржЦржи ржЖржорж╛ржжрзЗрж░ ржПржоржи ржПржХржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ ржжрж░ржХрж╛рж░ ржпрж╛ ржмрж┐ржнрж┐ржирзНржи ржХрж╛рж░рзНржпржХрж╛рж░рж┐рждрж╛ ржпрзЛржЧ ржХрж░рзЗ рж░рж╛ржиржЯрж╛ржЗржорзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред
- ржЙржжрж╛рж╣рж░ржг: ржХржлрж┐ рж╢ржк рж╕рж┐рж╕рзНржЯрзЗржо ржпрзЗржЦрж╛ржирзЗ ржХржлрж┐рж░ ржЙржкрж╛ржжрж╛ржи (ржорж┐рж▓рзНржХ, ржЪрж┐ржирж┐, рж╣рзБржЗржкржб ржХрзНрж░рж┐ржо ржЗрждрзНржпрж╛ржжрж┐) ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ ржпрзЛржЧ ржХрж░рж╛ рж╣ржпрж╝ред  

---

### **ржбрзЗржХрзЛрж░рзЗржЯрж░ ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржЙржжрж╛рж╣рж░ржг**  
ржПржХржЯрж┐ ржХржлрж┐ рж╢ржкрзЗрж░ рж╕рж┐рж╕рзНржЯрзЗржо ржХрж▓рзНржкржирж╛ ржХрж░рзБржиред ржПржЦрж╛ржирзЗ ржЧрзНрж░рж╛рж╣ржХ ржмрж┐ржнрж┐ржирзНржи ржзрж░ржирзЗрж░ ржХржлрж┐ ржЕрж░рзНржбрж╛рж░ ржХрж░рзЗ ржПржмржВ рждрж╛рж░ ржУржкрж░ ржмрж┐ржнрж┐ржирзНржи ржЙржкрж╛ржжрж╛ржи ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗ (ржпрзЗржоржи, ржжрзБржз, ржЪрж┐ржирж┐ ржЗрждрзНржпрж╛ржжрж┐)ред  

---

### **ржХрзЛржб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи:**

#### **Step 1: ржХржлрж┐рж░ ржорзВрж▓ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ (Component Interface)**

```php
<?php

interface Coffee {
    public function getCost(); // ржХржлрж┐рж░ ржжрж╛ржо
    public function getDescription(); // ржХржлрж┐рж░ ржмрж░рзНржгржирж╛
}
```

---

#### **Step 2: ржорзВрж▓ ржХржлрж┐ ржХрзНрж▓рж╛рж╕ (Concrete Component)**

```php
<?php

class SimpleCoffee implements Coffee {
    public function getCost() {
        return 50; // ржорзВрж▓ ржХржлрж┐рж░ ржжрж╛ржо
    }

    public function getDescription() {
        return "Simple Coffee"; // ржорзВрж▓ ржХржлрж┐рж░ ржмрж░рзНржгржирж╛
    }
}
```

---

#### **Step 3: ржбрзЗржХрзЛрж░рзЗржЯрж░ ржХрзНрж▓рж╛рж╕ (Base Decorator)**

```php
<?php

class CoffeeDecorator implements Coffee {
    protected $coffee;

    public function __construct(Coffee $coffee) {
        $this->coffee = $coffee;
    }

    public function getCost() {
        return $this->coffee->getCost();
    }

    public function getDescription() {
        return $this->coffee->getDescription();
    }
}
```

---

#### **Step 4: ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржбрзЗржХрзЛрж░рзЗржЯрж░ (Concrete Decorators)**

##### **Milk (ржжрзБржз ржпрзЛржЧ ржХрж░рж╛):**
```php
<?php

class MilkDecorator extends CoffeeDecorator {
    public function getCost() {
        return $this->coffee->getCost() + 20; // ржжрзБржзрзЗрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржжрж╛ржо
    }

    public function getDescription() {
        return $this->coffee->getDescription() . ", Milk"; // ржмрж░рзНржгржирж╛рзЯ ржжрзБржз ржпрзЛржЧ
    }
}
```

##### **Sugar (ржЪрж┐ржирж┐ ржпрзЛржЧ ржХрж░рж╛):**
```php
<?php

class SugarDecorator extends CoffeeDecorator {
    public function getCost() {
        return $this->coffee->getCost() + 10; // ржЪрж┐ржирж┐рж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржжрж╛ржо
    }

    public function getDescription() {
        return $this->coffee->getDescription() . ", Sugar"; // ржмрж░рзНржгржирж╛рзЯ ржЪрж┐ржирж┐ ржпрзЛржЧ
    }
}
```

##### **Whipped Cream (рж╣рзБржЗржкржб ржХрзНрж░рж┐ржо ржпрзЛржЧ ржХрж░рж╛):**
```php
<?php

class WhippedCreamDecorator extends CoffeeDecorator {
    public function getCost() {
        return $this->coffee->getCost() + 30; // рж╣рзБржЗржкржб ржХрзНрж░рж┐ржорзЗрж░ ржЕрждрж┐рж░рж┐ржХрзНржд ржжрж╛ржо
    }

    public function getDescription() {
        return $this->coffee->getDescription() . ", Whipped Cream"; // ржмрж░рзНржгржирж╛рзЯ рж╣рзБржЗржкржб ржХрзНрж░рж┐ржо ржпрзЛржЧ
    }
}
```

---

#### **Step 5: ржмрзНржпржмрж╣рж╛рж░ (Usage)**

```php
<?php

require_once 'Coffee.php';
require_once 'SimpleCoffee.php';
require_once 'CoffeeDecorator.php';
require_once 'MilkDecorator.php';
require_once 'SugarDecorator.php';
require_once 'WhippedCreamDecorator.php';

// ржПржХржЯрж┐ рж╕рж╛ржзрж╛рж░ржг ржХржлрж┐ рждрзИрж░рж┐
$coffee = new SimpleCoffee();
echo $coffee->getDescription() . " - тВ╣" . $coffee->getCost() . "\n";

// ржжрзБржз ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ
$coffee = new MilkDecorator($coffee);
echo $coffee->getDescription() . " - тВ╣" . $coffee->getCost() . "\n";

// ржЪрж┐ржирж┐ ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ
$coffee = new SugarDecorator($coffee);
echo $coffee->getDescription() . " - тВ╣" . $coffee->getCost() . "\n";

// рж╣рзБржЗржкржб ржХрзНрж░рж┐ржо ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ
$coffee = new WhippedCreamDecorator($coffee);
echo $coffee->getDescription() . " - тВ╣" . $coffee->getCost() . "\n";
```

---

### **ржЖржЙржЯржкрзБржЯ:**

```
Simple Coffee - тВ╣50
Simple Coffee, Milk - тВ╣70
Simple Coffee, Milk, Sugar - тВ╣80
Simple Coffee, Milk, Sugar, Whipped Cream - тВ╣110
```

---

### **ржХрзЛржбрзЗрж░ ржмрзНржпрж╛ржЦрзНржпрж╛:**

1. **Interface (Coffee):**  
   - ржкрзНрж░рждрж┐ржЯрж┐ ржХржлрж┐ ржХрзНрж▓рж╛рж╕ржХрзЗ `getCost()` ржПржмржВ `getDescription()` ржорзЗржержб ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рждрзЗ рж╣ржмрзЗред

2. **Concrete Component (SimpleCoffee):**  
   - ржПржЯрж┐ ржорзВрж▓ ржХржлрж┐ (рж╕рж╛ржзрж╛рж░ржг ржХржлрж┐) ржпрж╛ ржбрзЗржХрзЛрж░рзЗржЯ ржХрж░рж╛ рж╣ржмрзЗред

3. **Base Decorator (CoffeeDecorator):**  
   - ржПржЯрж┐ ржПржХржЯрж┐ ржЕрзНржпрж╛ржмрж╕рзНржЯрзНрж░рж╛ржХрзНржЯ рж▓рзЗрзЯрж╛рж░ ржпрж╛ ржбрзЗржХрзЛрж░рзЗржЯрж░ ржХрзНрж▓рж╛рж╕рзЗрж░ ржЬржирзНржп ржнрж┐рждрзНрждрж┐ рждрзИрж░рж┐ ржХрж░рзЗред

4. **Concrete Decorators:**  
   - ржжрзБржз, ржЪрж┐ржирж┐ ржПржмржВ рж╣рзБржЗржкржб ржХрзНрж░рж┐ржо ржпрзЛржЧ ржХрж░рж╛рж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржХрзНрж▓рж╛рж╕ред ржПржЧрзБрж▓рзЛ ржорзВрж▓ ржХржлрж┐ ржмрж╛ ржЕржирзНржп ржбрзЗржХрзЛрж░рзЗржЯрж░рзЗрж░ ржУржкрж░ ржХрж╛ржЬ ржХрж░рзЗред

5. **Usage:**  
   - ржХржлрж┐рждрзЗ ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрж┐ржнрж┐ржирзНржи ржЙржкрж╛ржжрж╛ржи ржпрзЛржЧ ржХрж░рж╛ рж╣рзЯ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржзрж╛ржкрзЗ ржХржлрж┐рж░ ржмрж░рзНржгржирж╛ ржПржмржВ ржжрж╛ржо ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣рзЯред

---

### **ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗ ржмрзНржпржмрж╣рж╛рж░:**

1. **ржЗ-ржХржорж╛рж░рзНрж╕ рж╕рж╛ржЗржЯ:**  
   - ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗ ржЕрзНржпрж╛ржб-ржЕржи ржпрзЛржЧ ржХрж░рж╛ред ржпрзЗржоржи рж▓рзНржпрж╛ржкржЯржк ржХрж┐ржирж▓рзЗ ржПржХрзНрж╕ржЯрзЗржирзНржбрзЗржб ржУржпрж╝рж╛рж░рзЗржирзНржЯрж┐ ржмрж╛ ржмрзНржпрж╛ржЧ ржпрзЛржЧ ржХрж░рж╛ред

2. **рж░рзЗрж╕рзНрждрзЛрж░рж╛ржБ ржорзЗржирзБ:**  
   - ржПржХржЯрж┐ ржЦрж╛ржмрж╛рж░рзЗ ржЕрждрж┐рж░рж┐ржХрзНржд ржЯржкрж┐ржВрж╕ ржмрж╛ ржлрзНрж▓рзЗржнрж╛рж░ ржпрзЛржЧ ржХрж░рж╛ред

3. **ржлрж╛ржЗрж▓ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ:**  
   - ржлрж╛ржЗрж▓ ржПржиржХрзНрж░рж┐ржкрж╢ржи, ржХржоржкрзНрж░рзЗрж╢ржи, ржЕржержмрж╛ рж▓рзЛржЧрж╕ ржпрзЛржЧ ржХрж░рж╛рж░ ржЬржирзНржпред

4. **UI Components:**  
   - UI-ржПрж░ ржмрж┐ржнрж┐ржирзНржи ржПрж▓рж┐ржорзЗржирзНржЯрзЗ рж╕рзНржЯрж╛ржЗрж▓ ржмрж╛ ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржпрзЛржЧ ржХрж░рж╛ред

---

**ржбрзЗржХрзЛрж░рзЗржЯрж░ ржкрзНржпрж╛ржЯрж╛рж░рзНржирзЗрж░ рж╕рзБржмрж┐ржзрж╛:**  
- ржПржЯрж┐ ржХрзНрж▓рж╛рж╕рзЗрж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗржЗ ржлрж┐ржЪрж╛рж░ ржпрзЛржЧ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред  
- ржПржЯрж┐ ржЦрзБржмржЗ ржлрзНрж▓рзЗржХрзНрж╕рж┐ржмрж▓ ржПржмржВ ржХрзЛржб рж░рж┐ржкрж┐ржЯрзЗрж╢ржи ржПржбрж╝рж╛рждрзЗ ржХрж╛рж░рзНржпржХрж░ред  
- рж░рж╛ржиржЯрж╛ржЗржорзЗ ржлрж┐ржЪрж╛рж░ ржпрзЛржЧ ржмрж╛ ржЕржкрж╕рж╛рж░ржгрзЗрж░ рж╕рзБржпрзЛржЧ ржжрзЗрзЯред  

ржПржЗ ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗрж░ ржХрзЛржбрж┐ржВ рж╕ржорж╕рзНржпрж╛рзЯ ржЦрзБржмржЗ ржХрж╛рж░рзНржпржХрж░рзАред ЁЯШК